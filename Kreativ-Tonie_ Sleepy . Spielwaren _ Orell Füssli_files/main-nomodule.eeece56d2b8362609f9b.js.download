!function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=19)}({19:function(t,e,r){t.exports=r(20)},20:function(t,e){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function i(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function o(t){var e="function"==typeof Map?new Map:void 0;return(o=function(t){if(null===t||(r=t,-1===Function.toString.call(r).indexOf("[native code]")))return t;var r;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return a(t,arguments,l(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),u(n,t)})(t)}function a(t,e,r){return(a=c()?Reflect.construct:function(t,e,r){var n=[null];n.push.apply(n,e);var i=new(Function.bind.apply(t,n));return r&&u(i,r.prototype),i}).apply(null,arguments)}function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var s=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(p,t);var e,r,o,a,s,f=(e=p,r=c(),function(){var t,n=l(e);if(r){var o=l(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return i(this,t)});function p(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,p),(t=f.call(this)).initialeArtikelMaxHoehe=310,t}return o=p,(a=[{key:"connectedCallback",value:function(){this.initOverlay(),this.initWeitereAnzeigen(),"single"===this.accordionStatus&&this.initAccordion()}},{key:"initOverlay",value:function(){var t=this;this.overlay=this.querySelector(".weitere-formate-overlay"),this.querySelector('[interaction="overlay-oeffnen"]').addEventListener("click",(function(){t.aktivesFormatSetzen(),t.overlay.showModal()})),this.querySelector('[interaction="overlay-schliessen"]').addEventListener("click",(function(){t.overlay.close()})),this.overlay.addEventListener("click",(function(e){"DIALOG"===e.target.nodeName&&t.overlay.close()}))}},{key:"aktivesFormatSetzen",value:function(){null!==this.querySelector(".format-accordion[open]")&&this.querySelector(".format-accordion[open]").removeAttribute("open"),this.querySelector('.artikel-box[data-artikel-status="aktiv"]').closest(".format-accordion").setAttribute("open","")}},{key:"initWeitereAnzeigen",value:function(){var t=this;this.querySelectorAll(".verknuepfte-artikel").forEach(this.buttonAktivieren),this.aktivierteButtons=this.querySelectorAll('[interaction="weitere-formate-anzeigen"][aktiv]'),this.aktivierteButtons.forEach((function(e){t.anzahlWeitereArtikel=parseInt(e.closest(".format-accordion").querySelector(".verknuepfte-artikel").dataset.anzahlArtikel)-4,e.innerHTML="Weitere anzeigen (".concat(t.anzahlWeitereArtikel,")"),e.addEventListener("click",t.buttonKlickVerarbeiten.bind(t))}))}},{key:"buttonAktivieren",value:function(t){t.setAttribute("data-anzahl-artikel",t.querySelectorAll(".artikel-box").length),parseInt(t.dataset.anzahlArtikel)>4&&t.closest(".format-accordion").querySelector('[interaction="weitere-formate-anzeigen"]').setAttribute("aktiv","")}},{key:"buttonKlickVerarbeiten",value:function(t){this.artikelListe=t.target.closest(".format-accordion").querySelector(".verknuepfte-artikel"),this.artikelListe.setAttribute("data-status","weniger"===t.target.dataset.status?"eingeklappt":"ausgeklappt"),this.artikelListe.style.maxHeight="ausgeklappt"===this.artikelListe.dataset.status?"".concat(this.artikelListe.scrollHeight,"px"):"".concat(this.initialeArtikelMaxHoehe,"px"),t.target.setAttribute("data-status","weniger"===t.target.dataset.status?"weitere":"weniger"),t.target.innerHTML="".concat("weniger"===t.target.dataset.status?"Weniger":"Weitere"," anzeigen (").concat(parseInt(this.artikelListe.dataset.anzahlArtikel)-4,")")}},{key:"initAccordion",value:function(){var t=this;this.accordionUeberschriften=this.querySelectorAll("summary.formatbezeichnung"),this.accordionUeberschriften.forEach((function(e){e.addEventListener("click",t.accordionKlickVerhalten.bind(t))}))}},{key:"accordionKlickVerhalten",value:function(t){var e,r;this.aktivesAccordionElement=this.querySelector(".format-accordion[open]"),null!==this.aktivesAccordionElement&&(this.aktivesAccordionElement===t.target.closest(".format-accordion")?(e=this.aktivesAccordionElement).hasAttribute(r)?e.removeAttribute(r):e.setAttribute(r,""):this.aktivesAccordionElement.removeAttribute("open"))}},{key:"accordionStatus",get:function(){return this.dataset.accordion}}])&&n(o.prototype,a),s&&n(o,s),p}(o(HTMLElement));customElements.get("weitere-formate")||customElements.define("weitere-formate",s)}});
//# sourceMappingURL=main-nomodule.eeece56d2b8362609f9b.js.map
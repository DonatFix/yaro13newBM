!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=17)}({0:function(e,t,n){"use strict";function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}function s(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(e){return Promise.reject(e)}}}n.d(t,"g",(function(){return u})),n.d(t,"b",(function(){return c})),n.d(t,"m",(function(){return l})),n.d(t,"f",(function(){return f})),n.d(t,"i",(function(){return a})),n.d(t,"j",(function(){return h})),n.d(t,"k",(function(){return d})),n.d(t,"o",(function(){return b})),n.d(t,"e",(function(){return m})),n.d(t,"l",(function(){return g})),n.d(t,"n",(function(){return v})),n.d(t,"h",(function(){return k})),n.d(t,"c",(function(){return y})),n.d(t,"d",(function(){return S})),n.d(t,"a",(function(){return w}));var a=s((function(e,t,n){var r=document.createRange();return r.setStart(document.documentElement,0),n?(p(r.createContextualFragment(t),e),null!==e.parentNode&&e.parentNode.removeChild(e)):e.appendChild(r.createContextualFragment(t)),o()}));function u(e){if(null===e)return 0;var t=e.currentStyle||window.getComputedStyle(e);return e.offsetHeight+(parseFloat(t.marginTop)+parseFloat(t.marginBottom))+(parseFloat(t.paddingTop)+parseFloat(t.paddingBottom))+(parseFloat(t.borderTopWidth)+parseFloat(t.borderBottomWidth))}function c(e){if(null===e)return 0;var t=e.currentStyle||window.getComputedStyle(e);return e.offsetWidth+(parseFloat(t.marginRight)+parseFloat(t.marginLeft))+(parseFloat(t.paddingRight)+parseFloat(t.paddingLeft))+(parseFloat(t.borderRightWidth)+parseFloat(t.borderLeftWidth))}function l(e){return new Promise((function(t){return setTimeout(t,e)}))}function f(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e3;return fetch(e,t).then((function(e){if(e.ok)return e;throw new Error("Network response was not ok")})).catch(s((function(i){if(console.log("Verbleibende Versuche: ".concat(n-1)),1===n)throw new Error(i);return o(l(r),(function(){return f(e,t,n-1)}))})))}function h(e,t){var n=document.createRange();n.setStart(document.documentElement,0),p(n.createContextualFragment(t),e)}function d(e,t,n){var r=document.createRange();r.setStart(document.documentElement,0),e.insertBefore(r.createContextualFragment(n),t)}function p(e,t){null!==t&&null!==t.parentNode&&t.parentNode.insertBefore(e,t.nextSibling)}function b(e,t){var n=new Date;return"h:m"===t?(n.setHours(e.substr(0,e.indexOf(":"))),n.setMinutes(e.substr(e.indexOf(":")+1)),n.setSeconds(0),n):"UngÃ¼ltiges Format"}function m(e,t){var n=new Error(t);return n.name=e,n}function v(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new URL(e),i=new URLSearchParams,o=Object.entries(t),s=0,a=o;s<a.length;s++){var u=r(a[s],2),c=u[0],l=u[1];i.append(c,l)}return n.search=i.toString(),n}function g(e,t,n){var r=document.createElement("SCRIPT");switch(r.src=e,t){case"async":r.async=!0;break;case"defer":r.defer=!0}return r.id=n,r}function y(e){return!!document.cookie.split(";").filter((function(t){return t.includes(e)})).length}function S(e){for(var t=document.cookie.split(";"),n=0;n<t.length;n++){var r=t[n].split("=");if(e===r[0].trim())return r[1]}return null}function k(){return e="max-width",t=480,window.matchMedia("screen and (".concat(e,":").concat(t,"px)")).matches;var e,t}function w(e){return decodeURIComponent(atob(e).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""))}},1:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(0);function i(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}var o,s=(o=function(e,t){var n=function(e){var t=document.createElement("style");t.innerHTML='\n    .thalia-hinweis {\n        z-index: 1;\n    }\n    \n    /* STANDARD */\n    .thalia-hinweis[data-status="standard"] {\n        width: 100%;\n        height: auto;\n        opacity: 0;\n        transition: opacity 0.4s ease;\n    }\n    \n    .thalia-hinweis[data-status="standard"][open] {\n        opacity: 1;\n    }\n    \n    /* BLOCKING */\n    .thalia-hinweis[data-status="blocking"] {\n        width: 100%;\n        height: auto;\n        max-width: 400px;\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%, -50%);\n        opacity: 0;\n        padding: 10px 10px 10px 40px;\n        transition: opacity 0.4s ease;\n    }\n    \n    .thalia-hinweis[data-status="blocking"][open] {\n        opacity: 1;\n    }\n    \n    \n    /* NON-BLOCKING / TOASTR */\n    .thalia-hinweis[data-status="toastr"] {\n        width: 100%;\n        max-width: 400px;\n        position: fixed;\n        bottom: 0;\n        right: calc(-1 * 400px);\n        transition: transform 0.15s ease-in;\n        transform: translateX(0);\n        box-shadow: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24);\n    }\n    \n    .thalia-hinweis[data-status="toastr"][open] {\n        transform: translateX(calc(-1 * 400px));\n        transition-duration: 0.25s;\n        transition-timing-function: cubic-bezier(0.34, 1.56, 0.64, 1);\n    }\n    \n    @media screen and (min-width: 481px) {\n        .thalia-hinweis[data-status="toastr"] {\n            bottom: 40px;\n        }\n    \n        .thalia-hinweis[data-status="toastr"][open] {\n            transform: translateX(calc(-1 * 400px - 40px));\n        }\n    }';var n=document.createElement("span");return n.classList.add("element-hinweis-standard"),n.classList.add("thalia-hinweis"),n.setAttribute("data-type",e.type),n.setAttribute("data-status",e.mode),n.innerHTML=e.text,n.insertAdjacentElement("afterbegin",t),n}(t);return e.insertAdjacentElement("beforeend",n),i(Object(r.m)(200),(function(){return n.setAttribute("open",""),function(e){var t=e();if(t&&t.then)return t.then(a)}((function(){if("toastr"===t.mode)return i(Object(r.m)(t.duration),(function(){return n.removeAttribute("open"),i(Object(r.m)(200),(function(){n.parentNode.removeChild(n)}))}))}))}))},function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return Promise.resolve(o.apply(this,e))}catch(e){return Promise.reject(e)}});function a(){}},17:function(e,t,n){e.exports=n(18)},18:function(e,t,n){"use strict";n.r(t);var r=n(0),i=n(1);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){var t="function"==typeof Map?new Map:void 0;return(c=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return l(e,arguments,d(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),h(r,e)})(e)}function l(e,t,n){return(l=f()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&h(i,n.prototype),i}).apply(null,arguments)}function f(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(b,e);var t,n,o,c,l,p=(t=b,n=f(),function(){var e,r=d(t);if(n){var i=d(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return u(this,e)});function b(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,b),p.call(this)}return o=b,(c=[{key:"connectedCallback",value:function(){this.sliderWrapper=this.querySelector(".slider-bereich"),this.slider=this.querySelector(".artikel-liste"),this.selectedItem=this.querySelector(".auswahl"),this.next=this.querySelector(".icon-next"),this.prev=this.querySelector(".icon-prev"),this.vis&&this.sliderWrapper.setAttribute("data-controls-type","vis"),this.inViewportScrollen(this.slider,this.selectedItem,{}),this.paginierungVerfuegbar&&this.initPaginierung(),this.next.addEventListener("click",this.listenerButtonNext.bind(this)),this.prev.addEventListener("click",this.listenerButtonPrev.bind(this)),this.initArtikelObserver()}},{key:"disconnectedCallback",value:function(){this.next.removeEventListener("click",this.listenerButtonNext.bind(this)),this.prev.removeEventListener("click",this.listenerButtonPrev.bind(this)),this.observer.disconnect()}},{key:"initPaginierung",value:function(){var e=this;this.vorherigeSeiteVerfuegbar&&(this.vorherigeSeite=this.aktuelleSeite-1),this.naechsteSeiteVerfuegbar&&(this.naechsteSeite=this.aktuelleSeite+1),this.querySelectorAll('[interaction*="baende-laden"]').forEach((function(t){return t.addEventListener("click",e.weiterBaendeLaden.bind(e))}))}},{key:"weiterBaendeLaden",value:function(e){try{var t=this;return t.buttonContainer=e.target.closest(".item-box"),t.letzterSichtbarerArtikel=t.buttonContainer.nextElementSibling,t.skeletonSlider=t.initSkeletonLoading(),function(e,t){try{var n=e()}catch(e){return t(!0,e)}return n&&n.then?n.then(t.bind(null,!1),t.bind(null,!0)):t(!1,n)}((function(){return function(e,t){try{var n=e()}catch(e){return t(e)}return n&&n.then?n.then(void 0,t):n}((function(){return t.uri=t.uriErzeugen(t.ajaxLink),s(Object(r.f)(t.uri,{},3,2e3),(function(e){return t.response=e,s(t.response.text(),(function(e){if(t.html=e,null===t.html||void 0===t.html)throw new Error("Network response was not ok");"anfang"===t.sliderPosition?Object(r.j)(t.buttonContainer,t.html):Object(r.k)(t.slider,t.buttonContainer,t.html),t.observer.disconnect(),t.updateSliderPaginierung(t.buttonContainer,t.sliderPosition)}))}))}),(function(e){console.error(e),Object(i.a)(t,{mode:"toastr",text:"Es ist ein Problem aufgetreten. Bitte laden Sie die Seite neu und versuchen es noch einmal.",type:"warning",duration:5e3})}))}),(function(e,n){return"anfang"===t.sliderPosition&&t.scrollToPosition(t.slider,{left:t.letzterSichtbarerArtikel.offsetLeft-t.letzterSichtbarerArtikel.offsetWidth}),s(Object(r.m)(1e3),(function(){return t.skeletonSlider.parentNode.removeChild(t.skeletonSlider),t.initArtikelObserver(),function(e,t){if(e)throw t;return t}(e,n)}))}))}catch(e){return Promise.reject(e)}}},{key:"uriErzeugen",value:function(e){var t;t=0===e.indexOf("/")?new URL(e,window.location.origin):new URL(e);var n=new URLSearchParams(t.search);return n.append("seite","anfang"===this.sliderPosition?this.vorherigeSeite:this.naechsteSeite),t.search=n.toString(),t}},{key:"updateSliderPaginierung",value:function(e,t){try{return"anfang"===t?(this.erstesSliderElement=this.slider.querySelector(".item-box:first-child"),this.vorherigeSeite=this.vorherigeSeite-1,this.vorherigeSeiteVerfuegbar=0!==this.vorherigeSeite,this.vorherigeSeiteVerfuegbar||e.parentNode.removeChild(e)):(this.letztesSliderElement=this.slider.querySelector(".item-box:last-child"),this.naechsteSeite=this.naechsteSeite+1,this.naechsteSeiteVerfuegbar=!(this.naechsteSeite>this.seitenInsgesamt),this.naechsteSeiteVerfuegbar||e.parentNode.removeChild(e)),s()}catch(e){return Promise.reject(e)}}},{key:"initArtikelObserver",value:function(){var e=this;this.erstesSliderElement=this.slider.querySelector(".item-box:first-child"),this.letztesSliderElement=this.slider.querySelector(".item-box:last-child"),this.options={root:this.slider,threshold:[.95,.96,.97,.98,.99,1]},this.observer=new IntersectionObserver((function(t){e.prev.setAttribute("aktiv",""),e.next.setAttribute("aktiv",""),t.forEach(e.schnittpunktVerarbeiten.bind(e))}),this.options),this.observer.observe(this.erstesSliderElement),this.observer.observe(this.letztesSliderElement)}},{key:"schnittpunktVerarbeiten",value:function(e){try{return e.target===this.erstesSliderElement&&e.intersectionRatio>=.99&&("anfang"!==this.sliderPosition&&(this.sliderPosition="anfang"),this.prev.removeAttribute("aktiv")),e.target===this.letztesSliderElement&&e.intersectionRatio>=.99&&("ende"!==this.sliderPosition&&(this.sliderPosition="ende"),this.next.removeAttribute("aktiv")),s()}catch(e){return Promise.reject(e)}}},{key:"listenerButtonNext",value:function(e){this.scrollToPosition(this.slider,{left:this.slider.scrollLeft+this.querySelector(".item-box.auswahl").offsetWidth*this.sprungMarke})}},{key:"listenerButtonPrev",value:function(e){this.scrollToPosition(this.slider,{left:this.slider.scrollLeft-this.querySelector(".item-box.auswahl").offsetWidth*this.sprungMarke})}},{key:"initSkeletonLoading",value:function(){this.skeletonSlider=document.createElement("UL"),this.skeletonSlider.classList.add("skeleton-loading");for(var e=1;e<12;e++)this.skeletonSlider.insertAdjacentHTML("beforeend",'<li class="skeleton"></li>');return this.sliderWrapper.appendChild(this.skeletonSlider),this.skeletonSlider}},{key:"inViewportScrollen",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};null!==e&&null!==t&&(this.left=t.getBoundingClientRect().left-e.getBoundingClientRect().left-e.offsetWidth/2+Object(r.b)(t)/2,e.scrollTo({top:n.top||0,left:n.left||this.left||0,behavior:"smooth"}))}},{key:"scrollToPosition",value:function(e,t){e.scrollTo({top:t.top||0,left:t.left||0,behavior:"smooth"})}},{key:"vis",get:function(){return"aktiv"===this.dataset.vis}},{key:"paginierungVerfuegbar",get:function(){return this.vorherigeSeiteVerfuegbar||this.naechsteSeiteVerfuegbar}},{key:"sprungMarke",get:function(){return parseInt(this.dataset.slidePush)}},{key:"ajaxLink",get:function(){return this.dataset.ajaxLink}},{key:"aktuelleSeite",get:function(){return parseInt(this.dataset.aktuelleSeite)}},{key:"seitenInsgesamt",get:function(){return parseInt(this.dataset.seitenInsgesamt)}},{key:"vorherigeSeiteVerfuegbar",get:function(){return"true"===this.dataset.vorherigeSeiteVerfuegbar},set:function(e){this.setAttribute("data-vorherige-seite-verfuegbar",e)}},{key:"vorherigeSeite",get:function(){return parseInt(this.dataset.vorherigeSeite)},set:function(e){this.setAttribute("data-vorherige-seite",e)}},{key:"naechsteSeiteVerfuegbar",get:function(){return"true"===this.dataset.naechsteSeiteVerfuegbar},set:function(e){this.setAttribute("data-naechste-seite-verfuegbar",e)}},{key:"naechsteSeite",get:function(){return parseInt(this.dataset.naechsteSeite)},set:function(e){this.setAttribute("data-naechste-seite",e)}},{key:"sliderPosition",get:function(){return this.dataset.sliderPosition},set:function(e){this.setAttribute("data-slider-position",e)}}])&&a(o.prototype,c),l&&a(o,l),b}(c(HTMLElement));customElements.get("serien-slider")||customElements.define("serien-slider",p)}});
//# sourceMappingURL=main-nomodule.eeece56d2b8362609f9b.js.map